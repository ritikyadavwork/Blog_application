{% extends 'base.html' %}

{% block title %} Blog Detail{% endblock %}

{% block body %}
<div class="container">
    <div class="row">
        <div class="col-md-12 m-auto   mt-3 left  top">
            <div class="card-body">
                <h1> {{ object.title }}</h1>
                <p class=" text-muted">{{ request.user.username }} | {{ object.created }} | {{
                    object.category.name}} </p>
                <img src="{{ object.photos.url }}" alt="{{ object.title }} " class="card-img-top"
                     style="height: 510px;">

                <p class="card-text mt-3 mb-3 ">{{ object.blog }}</p>
            </div>
        </div>
        <div class=" col-md-6  offset-md-1 offset-sm-1 col-12 mt-4">
            <form method="post" enctype="multipart/form-data" action="{% url 'blogapp:fullDetail' post_id=object.id %}">
                {% csrf_token %}
                <h3>Leave a comment:</h3>
                <div class="form-group">
                    <label for="title" class="my-2 fw-bold">Author Name</label>
                    <input type="text" name="author" id="title" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="message" class="my-2 fw-bold">Comment</label>
                    <textarea name="msg" id="message" cols="30" rows="5" class="form-control"
                              placeholder="leave a comment"></textarea>
                </div>
                <div class="form-group text-end">
                    <button type="submit" class="btn btn-primary my-2">Post</button>
                </div>
            </form>
        </div>
        <div class="col-md-6 col-md-10 col-md-8">
            {% for comment in comments %}
            <div class="card mb-3">
                <div class="card-body">
                    <div class="d-flex flex-start align-items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                             class="bi bi-person-standing-dress rounded-circle shadow-1-strong me-3"
                             viewBox="0 0 16 16">
                            <path d="M8 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3m-.5 12.25V12h1v3.25a.75.75 0 0 0 1.5 0V12h1l-1-5v-.215a.285.285 0 0 1 .56-.078l.793 2.777a.711.711 0 1 0 1.364-.405l-1.065-3.461A3 3 0 0 0 8.784 3.5H7.216a3 3 0 0 0-2.868 2.118L3.283 9.079a.711.711 0 1 0 1.365.405l.793-2.777a.285.285 0 0 1 .56.078V7l-1 5h1v3.25a.75.75 0 0 0 1.5 0Z"/>
                        </svg>
                        <div>
                            <h6 class="fw-bold text-primary mb-1">{{comment.Author}}</h6>

                            <p class="text-muted small mb-0">
                                {{comment.created}}
                            </p>
                        </div>
                    </div>
                    <p class="mt-3 mb-4 pb-2">
                        {{comment.comment}}
                    </p>
                    <div class="small d-flex justify-content-start">
                        <a href="#" class="btn btn-info ml-1">
                            <span class="glyphicon glyphicon-thumbs-up"></span> Like
                        </a>
                        <a href="#" class="btn btn-info ml-3">
                            <span class="glyphicon glyphicon-thumbs-down"></span> Unlike
                        </a>
                    </div>

                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{%endblock%}

